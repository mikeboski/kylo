<mat-tab-group color="primary" class="dialog-new-project">

  <!--Create a new project-->
  <mat-tab>
    <ng-template mat-tab-label>CREATE PROJECT</ng-template>

    <mat-card class="ma-0">
      <mat-card-header>
        <mat-card-title>
          Create a new project
        </mat-card-title>
        <mat-card-subtitle>
          A project is a collection of analysis and insights alongside the underlying data.
        </mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <form [formGroup]="form">

          <div class="mb-1">
            <mat-input-container class="mt-0 mb-0" style="width: 100%">
              <input mdInput placeholder="Project name ({{!form._value.name || form._value.name.length==0 ? 'max. '+maxName : maxName-form.value.name.length}})"
                     [formControl]="form.controls['name']" maxlength="{{maxName}}">
            </mat-input-container>
            <span *ngIf="privacy != 'private'" class="info-radio pl-0">This will also be your project URL: https://dev.medikly.ly/geraldmorris/{{form._value.name}} <br></span>
          </div>

          <div class="mb-1">
            <mat-input-container class="mt-0 mb-0" style="width: 100%">
        <textarea autosize rows="1" mdInput
                  placeholder="Project objective ({{!form._value.objective || form._value.objective.length==0 ? 'max. '+maxObjective : maxObjective-form.value.objective.length}})"
                  [formControl]="form.controls['objective']" maxlength="{{maxObjective}}"></textarea>
            </mat-input-container>
          </div>

          <div class="mb-1">
            <md-radio-group [formControl]="form.controls['privacy']" [(ngModel)]="privacy">
              <div fxLayout="row">
                <div fxFlex="50">
                  <md-radio-button value="open" class="mb-0">Open</md-radio-button>
                  <span class="info-radio"><br>Publicly available project that anyone can view</span>
                </div>
                <div fxFlex="50">
                  <md-radio-button value="private" class="mb-0">Private</md-radio-button>
                  <span class="info-radio"><br>You control who can view and contribute to this project</span>
                </div>
              </div>
            </md-radio-group>
          </div>
        </form>
      </mat-card-content>

      <mat-card-actions>
        <span fxFlex></span>
        <button
          md-button
          color="warn"
          mat-dialog-close>CANCEL
        </button>
        <button
          md-button
          color="primary"
          uiSref="view.home" [uiParams]="{ id: 15 }"
          mat-dialog-close="true" [disabled]="!form.valid">CREATE PROJECT
        </button>
      </mat-card-actions>
    </mat-card>

  </mat-tab>

  <!--Add a Data Source-->
  <mat-tab>
    <ng-template mat-tab-label>ADD A DATA SOURCE</ng-template>
    <mat-card class="ma-0">
      <mat-card-header>
        <mat-card-title>
          Add a Data Source
        </mat-card-title>
      </mat-card-header>

      <mat-card-content>

      </mat-card-content>

<!--      <mat-card-actions>
        <span fxFlex></span>
        <button
          md-button
          color="warn"
          mat-dialog-close>CANCEL
        </button>
      </mat-card-actions>-->
    </mat-card>

  </mat-tab>

  <!--Use a Template-->
  <mat-tab>
    <ng-template mat-tab-label>USE A TEMPLATE</ng-template>
    <mat-card class="ma-0">

      <mat-card-content class="pt-0 pb-0">

        <!--Toolbar templates-->
        <app-modal-templates-gallery (openProject)="openProjectTemplate()">
        </app-modal-templates-gallery>

      </mat-card-content>

      <mat-card-actions>
        <span fxFlex></span>
        <button
          md-button
          color="warn"
          mat-dialog-close>CANCEL
        </button>
      </mat-card-actions>
    </mat-card>
  </mat-tab>

</mat-tab-group>
